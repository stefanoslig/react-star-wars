(this["webpackJsonpreact-star-wars"]=this["webpackJsonpreact-star-wars"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),s=n(17),i=n.n(s),u=(n(24),n(25),n(11)),o=n(2),l=n(4),j=n.n(l),h=n(8),p=n(9),d=(n(27),n.p+"static/media/star-wars.1a7ed52a.png");n(28);var f=function(e){var t=e.isLoading,n=e.query,c=e.onHandleInputChange;return Object(r.jsxs)("div",{className:"SearchInput",children:[Object(r.jsx)("input",{type:"search",className:"SearchInput-input",placeholder:"Search query",value:n,onChange:c}),Object(r.jsx)("span",{className:"Search-icon"}),t?Object(r.jsx)("div",{className:"Search-loader"}):null]})};n(29),n(30);var b=function(e){var t=e.movie;return Object(r.jsxs)("li",{className:"ListItem",children:[Object(r.jsx)("span",{className:"ListItem-card-item",children:t.title}),Object(r.jsxs)("span",{className:"ListItem-card-item",children:["Director: ",t.director]}),Object(r.jsxs)("span",{className:"ListItem-card-item",children:["Release Date: ",t.release_date]}),Object(r.jsx)(u.b,{className:"ListItem-card-item",to:"/search/".concat(t.url.split("/films/")[1],"people"),children:"Characters"})]})};var O=function(e){var t=e.data;return t.length?Object(r.jsx)("div",{className:"List",children:Object(r.jsx)("ul",{children:t.map((function(e){return Object(r.jsx)(b,{movie:e},e.episode_id)}))})}):Object(r.jsx)("div",{className:"List-no-results",children:"No results..."})},m="https://swapi.dev/api",v={get:function(e){return N.apply(this,arguments)},getAll:function(e){return y.apply(this,arguments)}};function x(e){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw n;case 5:return e.abrupt("return",n.json().then((function(e){var t;return null!==(t=e.results)&&void 0!==t?t:e})).catch((function(){return{}})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(h.a)(j.a.mark((function e(t){var n,r,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=L("GET",k(t,n)),e.next=4,x(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return S.apply(this,arguments)}function S(){return(S=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return fetch(e)})));case 2:return n=e.sent,e.next=5,Promise.all(n.map((function(e){return e.json()}))).then((function(e){return e})).catch((function(){return{}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(h.a)(j.a.mark((function e(t){var n,r,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=t.map((function(e){var t=k(e,n);return L("GET",t)})),e.next=4,w(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e,t,n){return new Request(t.toString(),{method:e,body:n?JSON.stringify(n):null,headers:{"Content-type":"application/json; charset=UTF-8"}})},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URL("".concat(m,"/").concat(e));return n.search=new URLSearchParams(t).toString(),n};n(39),n(40);var I=function(e){var t=e.title;return Object(r.jsx)("header",{className:"Header",children:Object(r.jsx)("h1",{children:t})})};var C=function(){var e=Object(o.h)().filmId,t=Object(c.useState)(null),n=Object(p.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),u=Object(p.a)(i,2),l=u[0],d=u[1],f=Object(c.useState)(!1),b=Object(p.a)(f,2),O=b[0],m=b[1];return Object(c.useEffect)((function(){var t=function(){var t=Object(h.a)(j.a.mark((function t(){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("films/".concat(e,"/"));case 2:r=t.sent,s(r),n(r.characters);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,v.getAll(t.map((function(e){return e.split("api/")[1]})));case 3:n=e.sent,m(!1),d(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e&&t()}),[e]),Object(r.jsxs)("div",{children:[Object(r.jsx)(I,{title:"Characters - ".concat(O?"Loading...":a?a.title:"")}),Object(r.jsx)("ul",{children:l&&l.map((function(e){return Object(r.jsxs)("li",{className:"ListItem",children:[Object(r.jsx)("span",{className:"ListItem-card-item",children:e.name}),Object(r.jsx)("span",{className:"ListItem-card-item",children:"Birth year: ".concat(e.birth_year)})]},e.url)}))})]})};n(41);var P=function(e){var t=e.isOpen,n=e.children,c=e.backdropClicked;return Object(r.jsxs)("div",{className:"Panel-container ".concat(t?"active":""),children:[Object(r.jsx)("div",{className:"Panel-glass",onClick:function(e){c(e)}}),Object(r.jsx)("div",{className:"Panel",children:Object(r.jsx)("div",{className:"Panel-content",children:n})})]})};var E=function(){var e=Object(c.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),i=Object(p.a)(s,2),u=i[0],l=i[1],b=Object(c.useState)(!1),m=Object(p.a)(b,2),x=m[0],g=m[1],N=Object(o.g)(),w=Object(o.i)().path;return Object(c.useEffect)((function(){u?function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,v.get("films/",{search:u});case 3:t=e.sent,g(!1),a(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():a([])}),[u]),Object(r.jsxs)("div",{className:"Search-container",children:[Object(r.jsxs)("div",{className:"Search",children:[Object(r.jsx)("span",{className:"Search-title",children:"Star Wars Movies Search"}),Object(r.jsx)("img",{src:d,alt:"Logo"}),Object(r.jsx)(f,{isLoading:x,query:u,onHandleInputChange:function(e){return l(e.target.value)}})]}),Object(r.jsx)(O,{data:n}),Object(r.jsx)(o.d,{children:Object(r.jsx)(o.b,{path:"".concat(w,"/:filmId/people"),children:Object(r.jsx)(P,{isOpen:!0,backdropClicked:function(e){return N.push(w)},children:Object(r.jsx)(C,{})})})})]})};var F=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(I,{title:"Star Wars"}),Object(r.jsx)(u.a,{children:Object(r.jsxs)(o.d,{children:[Object(r.jsx)(o.b,{exact:!0,path:"/",children:Object(r.jsx)(o.a,{to:"/search"})}),Object(r.jsx)(o.b,{path:"/search",children:Object(r.jsx)(E,{})})]})})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(F,{})}),document.getElementById("root")),T()}},[[42,1,2]]]);
//# sourceMappingURL=main.96408e16.chunk.js.map